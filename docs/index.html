<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aerobus: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Aerobus<span id="projectnumber">&#160;v1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Introduction </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a> <code>Aerobus</code> is a C++-20 pure header library for general algebra on polynomials, discrete rings and associated structures.</p>
<p>Everything in <code>Aerobus</code> is expressed as types.</p>
<p>We say that again as it is the most fundamental characteristic of <code>Aerobus</code> :</p>
<p><em><b>Everything is expressed as types</b></em></p>
<p>The library serves two main purposes :</p>
<ul>
<li>Express algebra structures and associated operations in type arithmetic, compile-time;</li>
<li>Provide portable and fast evaluation functions for polynomials.</li>
</ul>
<p>It is designed to be 'quite easily' extensible.</p>
<p>Given these functions are "generated" at compile time and do not rely on inline assembly, they are actually platform independent, yielding exact same results if processors have same capabilities (such as Fused-Multiply-Add instructions).</p>
<h1><a class="anchor" id="autotoc_md1"></a>
HOW TO</h1>
<ul>
<li>Clone or download the repository somewhere, or just download <code>aerobus.h</code></li>
<li>In your code, add : <code>#include "aerobus.h"</code></li>
<li>Compile with -std=c++20 (at least) -I&lt;install_location&gt;</li>
</ul>
<p><code>Aerobus</code> provides a definition for low-degree (up to 997) Conway polynomials. To use them, define <code>AEROBUS_CONWAY_IMPORTS</code> before including <code>aerobus.h</code>.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Unit Test</h2>
<p>Install <a href="https://cmake.org/download/"><code>Cmake</code></a> Install a recent compiler (supporting c++20), such as MSVC, G++ or Clang++</p>
<p>Move to the top directory then :</p>
<div class="fragment"><div class="line">cmake -S . -B build</div>
<div class="line">cmake --build build</div>
<div class="line">cd build &amp;&amp; ctest</div>
</div><!-- fragment --><p>Terminal should write :</p>
<div class="fragment"><div class="line">100% tests passed, 0 tests failed out of 48</div>
</div><!-- fragment --><p>Alternate way :</p>
<div class="fragment"><div class="line">make tests</div>
</div><!-- fragment --><p>From top directory.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Benchmarks</h2>
<p>Benchmarks are written for Intel CPUs having AVX512f and AVX512vl flags, they work only on Linux operating system using g++.</p>
<p>In addition of <code>Cmake</code> and compiler, install <a href="https://www.openmp.org/resources/openmp-compilers-tools/"><code>OpenMP</code></a>. And Google's <a href="https://github.com/google/benchmark/tree/v2">Benchmark library</a>. Then move to top directory :</p>
<div class="fragment"><div class="line">rm -rf build </div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">make benchmarks</div>
<div class="line">./benchmarks</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
Structures</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
Predefined discrete euclidean domains</h2>
<p><code>Aerobus</code> predefines several simple euclidean domains, such as :</p>
<ul>
<li><code><a class="el" href="structaerobus_1_1i32.html" title="32 bits signed integers, seen as a algebraic ring with related operations">aerobus::i32</a></code> : integers (32 bits)</li>
<li><code><a class="el" href="structaerobus_1_1i64.html" title="64 bits signed integers, seen as a algebraic ring with related operations">aerobus::i64</a></code> : integers (64 bits)</li>
<li><code><a class="el" href="structaerobus_1_1zpz.html" title="congruence classes of integers modulo p (32 bits)">aerobus::zpz</a>&lt;p&gt;</code> : integers modulo p (prime number) on 32 bits</li>
</ul>
<p>All these types represent the Ring, meaning the algebraic structure. They have a nested type <code>val&lt;i&gt;</code> where <code>i</code> is a scalar native value (int32_t or int64_t) to represent actual values in the ring. They have the following "operations", required by the IsEuclideanDomain concept :</p>
<ul>
<li><code>add_t</code> : a type (specialization of val), representing addition between two values</li>
<li><code>sub_t</code> : a type (specialization of val), representing subtraction between two values</li>
<li><code>mul_t</code> : a type (specialization of val), representing multiplication between two values</li>
<li><code>div_t</code> : a type (specialization of val), representing division between two values</li>
<li><code>mod_t</code> : a type (specialization of val), representing modulus between two values</li>
</ul>
<p>and the following "elements" :</p>
<ul>
<li>one : the neutral element for multiplication, val&lt;1&gt;</li>
<li>zero : the neutral element for addition, val&lt;0&gt;</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Polynomials</h2>
<p><code>Aerobus</code> defines polynomials as a variadic template structure, with coefficient in an arbitrary discrete euclidean domain. As <code>i32</code> or <code>i64</code>, they are given same operations and elements, which make them a euclidean domain by themselves. Similarly, <code><a class="el" href="structaerobus_1_1polynomial.html">aerobus::polynomial</a></code> represents the algebraic structure, actual values are in <code><a class="el" href="structaerobus_1_1polynomial_1_1val.html" title="values (seen as types) in polynomial ring">aerobus::polynomial::val</a></code>.</p>
<p>In addition, values have an evaluation function :</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> valueRing&gt; <span class="keyword">static</span> <span class="keyword">constexpr</span> valueRing eval(<span class="keyword">const</span> valueRing&amp; x) {...}</div>
</div><!-- fragment --><p>Which can be used at compile time (constexpr evaluation) or runtime.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Known polynomials</h2>
<p><code>Aerobus</code> predefines some well known families of polynomials, such as Hermite or Bernstein :</p>
<div class="fragment"><div class="line"><span class="keyword">using </span>B23 = aerobus::known_polynomials::bernstein&lt;2, 3&gt;; <span class="comment">// 3X^2(1-X)</span></div>
<div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">float</span> x = B32::eval(2.0F); <span class="comment">// -12</span></div>
</div><!-- fragment --><p>They have their coefficients either in <code><a class="el" href="structaerobus_1_1i64.html" title="64 bits signed integers, seen as a algebraic ring with related operations">aerobus::i64</a></code> or <code><a class="el" href="namespaceaerobus.html#a320c4eb93c44d1385289731dc9176d85" title="64 bits rationals rationals with 64 bits numerator and denominator">aerobus::q64</a></code>. Complete list is (but is meant to be extended):</p>
<ul>
<li><code>chebyshev_T</code></li>
<li><code>chebyshev_U</code></li>
<li><code>laguerre</code></li>
<li><code>hermite_prob</code></li>
<li><code>hermite_phys</code></li>
<li><code>bernstein</code></li>
<li><code>legendre</code></li>
<li><code>bernoulli</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
Conway polynomials</h2>
<p>When the tag <code>AEROBUS_CONWAY_IMPORTS</code> is defined at compile time (<code>-DAEROBUS_CONWAY_IMPORTS</code>), <code>aerobus</code> provides definition for all Conway polynomials <code>CP(p, n)</code> for <code>p</code> up to 997 and low values for <code>n</code> (usually less than 10).</p>
<p>They can be used to construct finite fields of order \(p^n\) ( \(\mathbb{F}_{p^n}\)):</p>
<div class="fragment"><div class="line"><span class="keyword">using </span>F2 = zpz&lt;2&gt;;</div>
<div class="line"><span class="keyword">using </span>PF2 = polynomial&lt;F2&gt;;</div>
<div class="line"><span class="keyword">using </span>F4 = Quotient&lt;PF2, ConwayPolynomial&lt;2, 2&gt;::type&gt;;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Taylor series</h2>
<p><code>Aerobus</code> provides definition for Taylor expansion of known functions. They are all templates in two parameters, degree of expansion (<code>size_t</code>) and Integers (<code>typename</code>). Coefficients then live in <code>FractionField&lt;Integers&gt;</code>.</p>
<p>They can be used and evaluated:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceaerobus.html">aerobus</a>;</div>
<div class="line"><span class="keyword">using </span>aero_atanh = <a class="code hl_typedef" href="namespaceaerobus.html#a431cc3d1d6fbe9e34a1e303b596650bb">atanh&lt;i64, 6&gt;</a>;</div>
<div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">float</span> val = aero_atanh::eval(0.1F); <span class="comment">// approximation of arctanh(0.1) using taylor expansion of degree 6</span></div>
<div class="ttc" id="anamespaceaerobus_html"><div class="ttname"><a href="namespaceaerobus.html">aerobus</a></div><div class="ttdoc">main namespace for all publicly exposed types or functions</div></div>
<div class="ttc" id="anamespaceaerobus_html_a431cc3d1d6fbe9e34a1e303b596650bb"><div class="ttname"><a href="namespaceaerobus.html#a431cc3d1d6fbe9e34a1e303b596650bb">aerobus::atanh</a></div><div class="ttdeci">taylor&lt; Integers, internal::atanh_coeff, deg &gt; atanh</div><div class="ttdoc">arc hyperbolic tangent</div><div class="ttdef"><b>Definition</b> aerobus.h:3603</div></div>
</div><!-- fragment --><p>Exposed functions are:</p>
<ul>
<li><code>exp</code></li>
<li><code>expm1</code> \(e^x - 1\)</li>
<li><code>lnp1</code> \(\ln(x+1)\)</li>
<li><code>geom</code> \(\frac{1}{1-x}\)</li>
<li><code>sin</code></li>
<li><code>cos</code></li>
<li><code>tan</code></li>
<li><code>sh</code></li>
<li><code>cosh</code></li>
<li><code>tanh</code></li>
<li><code>asin</code></li>
<li><code>acos</code></li>
<li><code>acosh</code></li>
<li><code>asinh</code></li>
<li><code>atanh</code></li>
</ul>
<p>Having the capacity of specifying the degree is very important, as users may use other formats than <code>float64</code> or <code>float32</code> which require higher or lower degree to achieve correct or acceptable precision.</p>
<p>It's possible to define Taylor expansion by implementing a <code>coeff_at</code> structure which must meet the following requirement :</p>
<ul>
<li>Being template in Integers (<code>typename</code>) and index (<code>size_t</code>);</li>
<li>Exposing a type alias <code>type</code>, some specialization of <code>FractionField&lt;Integers&gt;::val</code>.</li>
</ul>
<p>For example, to define the serie \(1+x+x^2+x^3+\ldots\), users may write:</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Integers, <span class="keywordtype">size_t</span> i&gt;</div>
<div class="line"><span class="keyword">struct </span>my_coeff_at {</div>
<div class="line">    <span class="keyword">using </span>type = <span class="keyword">typename</span> <a class="code hl_typedef" href="namespaceaerobus.html#aa213858a9b029fd67d4865a933e73c2d">FractionField&lt;Integers&gt;::one</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Integers, <span class="keywordtype">size_t</span> degree&gt;</div>
<div class="line"><span class="keyword">using </span>my_serie = <a class="code hl_typedef" href="namespaceaerobus.html#a6b51cf0c9b5dcbc30388f46981b51d49">taylor&lt;Integers, my_coeff_at, degree&gt;</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">double</span> x = my_serie&lt;i64, 3&gt;::eval(3.0);</div>
<div class="ttc" id="anamespaceaerobus_html_a6b51cf0c9b5dcbc30388f46981b51d49"><div class="ttname"><a href="namespaceaerobus.html#a6b51cf0c9b5dcbc30388f46981b51d49">aerobus::taylor</a></div><div class="ttdeci">typename internal::make_taylor_impl&lt; T, coeff_at, internal::make_index_sequence_reverse&lt; deg+1 &gt; &gt;::type taylor</div><div class="ttdef"><b>Definition</b> aerobus.h:3268</div></div>
<div class="ttc" id="anamespaceaerobus_html_aa213858a9b029fd67d4865a933e73c2d"><div class="ttname"><a href="namespaceaerobus.html#aa213858a9b029fd67d4865a933e73c2d">aerobus::FractionField</a></div><div class="ttdeci">typename internal::FractionFieldImpl&lt; Ring &gt;::type FractionField</div><div class="ttdoc">Fraction field of an euclidean domain, such as Q for Z.</div><div class="ttdef"><b>Definition</b> aerobus.h:2700</div></div>
</div><!-- fragment --><p>On x86-64 and CUDA platforms at least, using proper compiler directives, these functions yield very performant assembly, similar or better than standard library implementation in fast math. For example, this code:</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> compute_expm1(<span class="keyword">const</span> <span class="keywordtype">size_t</span> N, <span class="keywordtype">double</span>* in, <span class="keywordtype">double</span>* out) {</div>
<div class="line">    <span class="keyword">using </span>V = <a class="code hl_typedef" href="namespaceaerobus.html#a0c0f49055faee9b1ba5a8a027773f8b0">aerobus::expm1&lt;aerobus::i64, 13&gt;</a>;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; N; ++i) {</div>
<div class="line">        out[i] = V::eval(in[i]);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceaerobus_html_a0c0f49055faee9b1ba5a8a027773f8b0"><div class="ttname"><a href="namespaceaerobus.html#a0c0f49055faee9b1ba5a8a027773f8b0">aerobus::expm1</a></div><div class="ttdeci">typename polynomial&lt; FractionField&lt; Integers &gt; &gt;::template sub_t&lt; exp&lt; Integers, deg &gt;, typename polynomial&lt; FractionField&lt; Integers &gt; &gt;::one &gt; expm1</div><div class="ttdef"><b>Definition</b> aerobus.h:3537</div></div>
</div><!-- fragment --><p>Yields this assembly (clang 17, <code>-mavx2 -O3</code>) where we can see a pile of Fused-Multiply-Add vector instructions, generated because we unrolled completely the Horner evaluation loop:</p>
<div class="fragment"><div class="line">compute_expm1(unsigned long, double const*, double*):</div>
<div class="line">  lea     rax, [rdi-1]</div>
<div class="line">  cmp     rax, 2</div>
<div class="line">  jbe     .L5</div>
<div class="line">  mov     rcx, rdi</div>
<div class="line">  xor     eax, eax</div>
<div class="line">  vxorpd  xmm1, xmm1, xmm1</div>
<div class="line">  vbroadcastsd    ymm14, QWORD PTR .LC1[rip]</div>
<div class="line">  vbroadcastsd    ymm13, QWORD PTR .LC3[rip]</div>
<div class="line">  shr     rcx, 2</div>
<div class="line">  vbroadcastsd    ymm12, QWORD PTR .LC5[rip]</div>
<div class="line">  vbroadcastsd    ymm11, QWORD PTR .LC7[rip]</div>
<div class="line">  sal     rcx, 5</div>
<div class="line">  vbroadcastsd    ymm10, QWORD PTR .LC9[rip]</div>
<div class="line">  vbroadcastsd    ymm9, QWORD PTR .LC11[rip]</div>
<div class="line">  vbroadcastsd    ymm8, QWORD PTR .LC13[rip]</div>
<div class="line">  vbroadcastsd    ymm7, QWORD PTR .LC15[rip]</div>
<div class="line">  vbroadcastsd    ymm6, QWORD PTR .LC17[rip]</div>
<div class="line">  vbroadcastsd    ymm5, QWORD PTR .LC19[rip]</div>
<div class="line">  vbroadcastsd    ymm4, QWORD PTR .LC21[rip]</div>
<div class="line">  vbroadcastsd    ymm3, QWORD PTR .LC23[rip]</div>
<div class="line">  vbroadcastsd    ymm2, QWORD PTR .LC25[rip]</div>
<div class="line">.L3:</div>
<div class="line">  vmovupd ymm15, YMMWORD PTR [rsi+rax]</div>
<div class="line">  vmovapd ymm0, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm14, ymm1</div>
<div class="line">  vfmadd132pd     ymm0, ymm13, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm12, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm11, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm10, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm9, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm8, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm7, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm6, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm5, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm4, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm3, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm2, ymm15</div>
<div class="line">  vfmadd132pd     ymm0, ymm1, ymm15</div>
<div class="line">  vmovupd YMMWORD PTR [rdx+rax], ymm0</div>
<div class="line">  add     rax, 32</div>
<div class="line">  cmp     rcx, rax</div>
<div class="line">  jne     .L3</div>
<div class="line">  mov     rax, rdi</div>
<div class="line">  and     rax, -4</div>
<div class="line">  vzeroupper</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10"></a>
Operations</h1>
<h2><a class="anchor" id="autotoc_md11"></a>
Field of fractions</h2>
<p>Given a set (type) satisfies the <code>IsEuclideanDomain</code> concept, <code>Aerobus</code> allows to define its <a href="https://en.wikipedia.org/wiki/Field_of_fractions">field of fractions</a>.</p>
<p>This new type is again a euclidean domain, especially a field, and therefore we can define polynomials over it.</p>
<p>For example, integers modulo <code>p</code> is not a field when <code>p</code> is not prime. We then can define its field of fraction and polynomials over it this way:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceaerobus.html">aerobus</a>;</div>
<div class="line"><span class="keyword">using </span>ZmZ = <a class="code hl_struct" href="structaerobus_1_1zpz.html">zpz&lt;8&gt;</a>;</div>
<div class="line"><span class="keyword">using </span>Fzmz = <a class="code hl_typedef" href="namespaceaerobus.html#aa213858a9b029fd67d4865a933e73c2d">FractionField&lt;ZmZ&gt;</a>;</div>
<div class="line"><span class="keyword">using </span>Pfzmz = <a class="code hl_struct" href="structaerobus_1_1polynomial.html">polynomial&lt;Fzmz&gt;</a>;</div>
<div class="ttc" id="astructaerobus_1_1polynomial_html"><div class="ttname"><a href="structaerobus_1_1polynomial.html">aerobus::polynomial</a></div><div class="ttdef"><b>Definition</b> aerobus.h:1631</div></div>
<div class="ttc" id="astructaerobus_1_1zpz_html"><div class="ttname"><a href="structaerobus_1_1zpz.html">aerobus::zpz</a></div><div class="ttdoc">congruence classes of integers modulo p (32 bits)</div><div class="ttdef"><b>Definition</b> aerobus.h:1431</div></div>
</div><!-- fragment --><p>The same operation would stand for any set that users would have implemented in place of <code>ZmZ</code>.</p>
<p>For example, we can easily define <a href="https://en.wikipedia.org/wiki/Rational_function">rational functions</a> by taking the ring of fractions of polynomials:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceaerobus.html">aerobus</a>;</div>
<div class="line"><span class="keyword">using </span>RF64 = <a class="code hl_typedef" href="namespaceaerobus.html#aa213858a9b029fd67d4865a933e73c2d">FractionField&lt;polynomial&lt;q64&gt;</a>&gt;;</div>
</div><!-- fragment --><p>Which also have an evaluation function, as polynomial do.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Quotient</h2>
<p>Given a ring <code>R</code>, <code>Aerobus</code> provides automatic implementation for <a href="https://en.wikipedia.org/wiki/Quotient_ring">quotient ring</a> \(R/X\) where X is a principal ideal generated by some element, as we know this kind of ideal is two-sided as long as <code>R</code> is commutative (and we assume it is).</p>
<p>For example, if we want <code>R</code> to be \(\mathbb{Z}\) represented as <code><a class="el" href="structaerobus_1_1i64.html" title="64 bits signed integers, seen as a algebraic ring with related operations">aerobus::i64</a></code>, we can express arithmetic modulo 17 using:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceaerobus.html">aerobus</a>;</div>
<div class="line"><span class="keyword">using </span>ZpZ = <a class="code hl_struct" href="structaerobus_1_1_quotient.html">Quotient&lt;i64, i64::val&lt;17&gt;</a>&gt;;</div>
<div class="ttc" id="astructaerobus_1_1_quotient_html"><div class="ttname"><a href="structaerobus_1_1_quotient.html">aerobus::Quotient</a></div><div class="ttdoc">Quotient ring by the principal ideal generated by 'X' With i32 as Ring and i32::val&lt;2&gt; as X,...</div><div class="ttdef"><b>Definition</b> aerobus.h:631</div></div>
</div><!-- fragment --><p>As we could have using <code>zpz&lt;17&gt;</code>.</p>
<p>This is mainly used to define finite fields of order \(p^n\) using Conway polynomials but may have other applications.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Misc</h1>
<h2><a class="anchor" id="autotoc_md14"></a>
Continued Fractions</h2>
<p><code>Aerobus</code> gives an implementation for <a href="https://en.wikipedia.org/wiki/Continued_fraction">continued fractions</a>. It can be used this way:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceaerobus.html">aerobus</a>;</div>
<div class="line"><span class="keyword">using </span>T = <a class="code hl_struct" href="structaerobus_1_1_continued_fraction.html">ContinuedFraction&lt;1,2,3,4&gt;</a>;</div>
<div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">double</span> x = T::val;</div>
<div class="ttc" id="astructaerobus_1_1_continued_fraction_html"><div class="ttname"><a href="structaerobus_1_1_continued_fraction.html">aerobus::ContinuedFraction</a></div><div class="ttdoc">represents a continued fraction a0 +</div><div class="ttdef"><b>Definition</b> aerobus.h:3625</div></div>
</div><!-- fragment --><p>As practical examples, <code>aerobus</code> gives continued fractions of \(\pi\), \(e\), \(\sqrt{2}\) and \(\sqrt{3}\):</p>
<div class="fragment"><div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">double</span> A_SQRT3 = aerobus::SQRT3_fraction::val; <span class="comment">// 1.7320508075688772935</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
CUDA</h1>
<p>When compiled with <code>nvcc</code> and the flag <code>WITH_CUDA_FP16</code>, <code>Aerobus</code> provides some kind of support of 16 bits integers and floats (aka <code>__half</code>).</p>
<p>Unfortunately, NVIDIA did not put enough constexpr in its <code>cuda_fp16.h</code> header, so we had to implement our own constexpr static_cast from int16_t to <code>__half</code> to make integers polynomials work with <code>__half</code>. See <a href="https://developer.nvidia.com/bugs/4863696">this bug</a>.</p>
<p>More, it's (at this time), not possible to make it work for <code>__half2</code> because of <a href="https://developer.nvidia.com/bugs/4872028">another bug</a>.</p>
<p>Please push to make these bug fixed by NVIDIA.</p>
<p><a href="https://zenodo.org/badge/latestdoi/499577459"><img src="https://zenodo.org/badge/499577459.svg" alt="DOI" style="pointer-events: none;" class="inline"/></a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
